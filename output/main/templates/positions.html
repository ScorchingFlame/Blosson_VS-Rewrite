<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="{{ url_for('static', filename='table.css')}}">
    <link rel="stylesheet" href="{{ url_for('static', filename='bootstrap.min.css') }}">
    <script src="{{ url_for('static', filename='jquery.min.js') }}"></script>
    <script src="{{ url_for('static', filename='bootstrap.bundle.min.js') }}"></script>
    <script src="{{ url_for('static', filename='socket.js') }}"></script>
    <title>Document</title>
</head>
<body>
    <div class="buttonss" style="padding-top: 10px">
        <a href="../admin"><button type="button" class="btn btn-success">Back</button></a>
    </div>
    <center>
        <a href="positions/create"><button type="button" class="btn btn-success">Create Position</button></a>
        <h3>Positions :</h3>
    </center>
    
    <div class="container">
        
  <table class="responsive-table">
    
    <thead>
      <tr>
        <th scope="col">Position Name</th>
        <th scope="col">Id</th>
        <th scope="col">WCS</th>
        <th scope="col">Edit</th>
        <th scope="col">Delete</th>
      </tr>
    </thead>
    <tbody>
        {% for item in tm %}
      <tr>
        <th scope="row">{{item[1]}}</th>
        <td data-title="Id">{{item[0]}}</td>
        <!-- <td data-title="WCS">{{item[2]}}</td> -->
        <td><textarea name="ew" id="ew" cols="30" rows="3" disabled>{{ item[2] }}</textarea></td>
        <td data-title="Edit" data-type="currency"><a href="positions/edit/{{item[0]}}"><button type="button" class="btn btn-primary" >Edit</button></a></td>
        <td data-title="Delete" data-type="currency"><a href="positions/delete/{{item[0]}}"><button type="button" class="btn btn-danger">Delete</button></a></td>
      </tr>
      {% endfor %}
      
    </tbody>
  </table>
  <p style="color: red;">Deleting Position Will Also Delete Candidates With The Position Assigned To</p>

</div>
    <!-- <button onclick="llol()">Hii</button> -->
    <!-- <script>
    var socket = io();
    
    function llol() { 
        socket.emit('llol', {data: 'hello'});
       };
  </script> -->
  <script>
    function getKeyByValue(object, value) {
      return Object.keys(object).find(key => object[key] === value);
    }
    var switcher = JSON.parse('{ "EVERYONE": "00", "3rd STD": "01", "4th STD": "02", "5th STD": "03", "6th STD": "04", "7th STD": "05", "8th STD": "06", "9th STD": "07", "10th STD": "08", "11th STD": "09", "12th STD": "10", "WINTER": "11", "SUMMER": "12", "SPRING": "13", "WINTER (3rd STD)": "14", "WINTER (4th STD)": "15", "WINTER (5th STD)": "16", "WINTER (6th STD)": "17", "WINTER (7th STD)": "18", "WINTER (8th STD)": "19", "WINTER (9th STD)": "20", "WINTER (10th STD)": "21", "WINTER (11th STD)": "22", "WINTER (12th STD)": "23", "SUMMER (3rd STD)": "24", "SUMMER (4th STD)": "25", "SUMMER (5th STD)": "26", "SUMMER (6th STD)": "27", "SUMMER (7th STD)": "28", "SUMMER (8th STD)": "29", "SUMMER (9th STD)": "30", "SUMMER (10th STD)": "31", "SUMMER (11th STD)": "32", "SUMMER (12th STD)": "33", "SPRING (3rd STD)": "34", "SPRING (4th STD)": "35", "SPRING (5th STD)": "36", "SPRING (6th STD)": "37", "SPRING (7th STD)": "38", "SPRING (8th STD)": "39", "SPRING (9th STD)": "40", "SPRING (10th STD)": "41", "SPRING (11th STD)": "42", "SPRING (12th STD)": "43" }');
    $(document).ready(function () {
      var elms = document.querySelectorAll("[id='ew']");
      console.log(elms)
      for(var i = 0; i < elms.length; i++){ 
        var val = elms[i].innerHTML; // <-- whatever you need to do here.
        var val3 = val.match(/.{1,2}/g);
        elms[i].innerHTML = ""
        // console.log(val.innerHTML);
        console.log(val3)
        for (let x = 0; x < val3.length; x++) {
          var val2 = getKeyByValue(switcher, val3[x]);
          console.log(val2)
          elms[i].innerHTML = elms[i].innerHTML + val2+ '\n';
        }
    }});
  </script>
  <script src="{{ url_for('static', filename='popper.min.js') }}"></script>
</body>
</html>